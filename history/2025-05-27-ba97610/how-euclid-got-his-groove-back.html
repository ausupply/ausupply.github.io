<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Euclidean Rhythm Generator</title>
  <style>
    body {
      font-family: "Comic Sans MS", cursive, sans-serif;
      background-color: #f0f0f0;
      color: #0000ff;
      margin: 20px;
    }
    h1 {
      font-size: 48px;
      text-align: center;
      color: #ff00ff;
      text-shadow: 2px 2px #0000ff;
    }
    .controls {
      background-color: #ffff99;
      padding: 20px;
      border: 5px dashed #ff00ff;
      margin-bottom: 20px;
    }
    .controls label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }
    .grid {
      display: flex;
      gap: 5px;
      margin-top: 20px;
    }
    .grid div {
      width: 40px;
      height: 40px;
      background-color: #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      border: 2px solid #000;
    }
    .grid div.active {
      background-color: #00ff00;
    }
    .description {
      background-color: #ffcc99;
      padding: 20px;
      border: 5px solid #ff6600;
      margin-top: 20px;
    }
    .description h2 {
      margin-bottom: 10px;
    }
    .description ul {
      margin-top: 0;
    }
    .marquee {
      font-size: 24px;
      color: #ff0000;
      background-color: #0000ff;
      padding: 10px;
      white-space: nowrap;
      overflow: hidden;
      box-sizing: border-box;
    }
    .marquee span {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 10s linear infinite;
    }
    @keyframes marquee {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body>
  <div class="marquee">
    <span>ðŸŽµ Welcome to the Euclidean Rhythm Generator! ðŸŽµ</span>
  </div>
  <h1>Euclidean Rhythm Generator</h1>
  <div class="controls">
    <h2>Kick 1</h2>
    <label for="steps1">Number of Steps: <span id="steps1-value">16</span></label>
    <input type="range" id="steps1" min="4" max="32" value="16">

    <label for="beats1">Number of Beats: <span id="beats1-value">4</span></label>
    <input type="range" id="beats1" min="1" max="16" value="4">

    <label for="rotation1">Rotation: <span id="rotation1-value">0</span></label>
    <input type="range" id="rotation1" min="0" max="15" value="0">

    <label for="kick1-pitch">Kick Drum Pitch (Hz): <span id="kick1-pitch-value">100</span></label>
    <input type="range" id="kick1-pitch" min="50" max="500" value="100">

    <label for="kick1-envelope">Kick Drum Envelope Size (ms): <span id="kick1-envelope-value">500</span></label>
    <input type="range" id="kick1-envelope" min="100" max="1000" value="500">

    <label for="kick1-waveform">Kick Drum Waveform:</label>
    <select id="kick1-waveform">
      <option value="sine">Sine</option>
      <option value="square">Square</option>
      <option value="sawtooth">Sawtooth</option>
      <option value="triangle">Triangle</option>
    </select>

    <label>
      <input type="checkbox" id="random1-pitch"> Randomize Kick Drum Pitch
    </label>

    <label>
      <input type="checkbox" id="mute1"> Mute Kick 1
    </label>

    <h2>Kick 2</h2>
    <label for="steps2">Number of Steps: <span id="steps2-value">16</span></label>
    <input type="range" id="steps2" min="4" max="32" value="16">

    <label for="beats2">Number of Beats: <span id="beats2-value">4</span></label>
    <input type="range" id="beats2" min="1" max="16" value="4">

    <label for="rotation2">Rotation: <span id="rotation2-value">0</span></label>
    <input type="range" id="rotation2" min="0" max="15" value="0">

    <label for="kick2-pitch">Kick Drum Pitch (Hz): <span id="kick2-pitch-value">100</span></label>
    <input type="range" id="kick2-pitch" min="50" max="500" value="100">

    <label for="kick2-envelope">Kick Drum Envelope Size (ms): <span id="kick2-envelope-value">500</span></label>
    <input type="range" id="kick2-envelope" min="100" max="1000" value="500">

    <label for="kick2-waveform">Kick Drum Waveform:</label>
    <select id="kick2-waveform">
      <option value="sine">Sine</option>
      <option value="square">Square</option>
      <option value="sawtooth">Sawtooth</option>
      <option value="triangle">Triangle</option>
    </select>

    <label>
      <input type="checkbox" id="random2-pitch"> Randomize Kick Drum Pitch
    </label>

    <label>
      <input type="checkbox" id="mute2"> Mute Kick 2
    </label>

    <h2>Global Controls</h2>
    <label for="tempo">Tempo (ms): <span id="tempo-value">200</span></label>
    <input type="range" id="tempo" min="100" max="1000" value="200">

    <label>
      <input type="checkbox" id="pause"> Pause Everything
    </label>
  </div>

  <div class="grid" id="grid1"></div>
  <div class="grid" id="grid2"></div>

  <div class="description">
    <h2>How It Works</h2>
    <p>
      Euclidean rhythms are patterns of beats distributed as evenly as possible across a number of steps. They are commonly used in music to create interesting and complex rhythms.
    </p>
    <ul>
      <li><strong>Steps</strong>: The total number of steps in the rhythm.</li>
      <li><strong>Beats</strong>: The number of beats to distribute across the steps.</li>
      <li><strong>Rotation</strong>: Rotates the rhythm pattern by a number of steps.</li>
      <li><strong>Tempo</strong>: Controls the speed of the rhythm.</li>
    </ul>

    <h2>How to Use</h2>
    <ul>
      <li>Adjust the <strong>Steps</strong> and <strong>Beats</strong> sliders to create different rhythms.</li>
      <li>Use the <strong>Rotation</strong> slider to rotate the rhythm pattern.</li>
      <li>Adjust the <strong>Tempo</strong> slider to control the speed of the rhythm.</li>
      <li>Tweak the kick drum sound using the <strong>Pitch</strong>, <strong>Envelope Size</strong>, and <strong>Waveform</strong> controls.</li>
      <li>Check the <strong>Randomize Kick Drum Pitch</strong> checkbox to randomize the pitch of the kick drum.</li>
      <li>Check the <strong>Mute</strong> checkbox to mute a kick drum.</li>
      <li>Check the <strong>Pause Everything</strong> checkbox to pause the rhythm.</li>
    </ul>

    <h2>Euclidean Rhythm Formula</h2>
    <p>
      The Euclidean rhythm algorithm distributes a number of beats (<code>k</code>) as evenly as possible across a number of steps (<code>n</code>). The formula is:
    </p>
    <pre>
E(k, n) = [1 if (i * k) % n < k else 0 for i in range(n)]
    </pre>
    <p>
      Where:
      <ul>
        <li><code>k</code> = number of beats</li>
        <li><code>n</code> = number of steps</li>
        <li><code>i</code> = current step index</li>
      </ul>
    </p>
  </div>

</body>
</html>
